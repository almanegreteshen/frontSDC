(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{255:function(e){e.exports={type:"FeatureCollection",crs:{type:"name",properties:{name:"epsg:32719"}},regiones_centroides:[{type:"Feature",properties:{Region:"Arica y Parinacota",Capital:"Arica",Area:"16,873.3",Pop:"226,068",X:-69.6575239667,Y:-18.4902539448},geometry:{type:"Point",coordinates:[-69.65752396667588,-18.49025394481695]}},{type:"Feature",properties:{Region:"Tarapac\xe1",Capital:"Iquique",Area:"42,225.8",Pop:"330,558",X:-69.4336023578,Y:-20.1191162753},geometry:{type:"Point",coordinates:[-69.43360235784105,-20.119116275297944]}},{type:"Feature",properties:{Region:"Antofagasta",Capital:"Antofagasta",Area:"126,049.1",Pop:"607,534",X:-69.1480070857,Y:-23.3782313092},geometry:{type:"Point",coordinates:[-69.14800708565907,-23.378231309215206]}},{type:"Feature",properties:{Region:"Atacama",Capital:"Copiap\xf3",Area:"75,176.2",Pop:"286,168",X:-69.8997450836,Y:-27.2239527887},geometry:{type:"Point",coordinates:[-69.89974508355066,-27.22395278865392]}},{type:"Feature",properties:{Region:"Coquimbo",Capital:"La Serena",Area:"40,579.9",Pop:"757,586",X:-70.9329512531,Y:-30.5261981153},geometry:{type:"Point",coordinates:[-70.93295125307554,-30.526198115302794]}},{type:"Feature",properties:{Region:"Valpara\xedso",Capital:"Valpara\xedso",Area:"16,396.1",Pop:"1,815,902",X:-70.8965991178,Y:-32.5956678436},geometry:{type:"Point",coordinates:[-70.89659911779492,-32.59566784361986]}},{type:"Feature",properties:{Region:"Metropolitana",Capital:"Santiago",Area:"15,403.2",Pop:"7,112,808",X:-70.6529922171,Y:-33.4926533461},geometry:{type:"Point",coordinates:[-70.65299221712651,-33.49265334607583]}},{type:"Feature",properties:{Region:"O'Higgins",Capital:"Rancagua",Area:"16,387.0",Pop:"914,555",X:-71.1148483746,Y:-34.452385399},geometry:{type:"Point",coordinates:[-71.1148483746128,-34.452385399039464]}},{type:"Feature",properties:{Region:"Maule",Capital:"Talca",Area:"30,296.1",Pop:"1,044,950",X:-71.4255053727,Y:-35.226595065},geometry:{type:"Point",coordinates:[-71.42550537265626,-35.22659506498097]}},{type:"Feature",properties:{Region:"Biob\xedo",Capital:"Concepci\xf3n",Area:"23,890.2",Pop:"1,556,805",X:-72.3054425598,Y:-37.0310738688},geometry:{type:"Point",coordinates:[-72.30544255982521,-37.03107386882478]}},{type:"Feature",properties:{Region:"La Araucan\xeda",Capital:"Temuco",Area:"31,842.3",Pop:"957,224",X:-72.391516408,Y:-38.593745547},geometry:{type:"Point",coordinates:[-72.39151640799699,-38.59374554699105]}},{type:"Feature",properties:{Region:"Los R\xedos",Capital:"Valdivia",Area:"18,429.5",Pop:"384,837",X:-72.6504343598,Y:-39.9917850035},geometry:{type:"Point",coordinates:[-72.6504343597721,-39.991785003534254]}},{type:"Feature",properties:{Region:"Los Lagos",Capital:"Puerto Montt",Area:"48,583.6",Pop:"828,708",X:-72.8980199703,Y:-41.3892876083},geometry:{type:"Point",coordinates:[-72.89801997032086,-41.38928760826264]}},{type:"Feature",properties:{Region:"Ays\xe9n",Capital:"Coihaique",Area:"108,494.4",Pop:"103,158",X:-73.1791679687,Y:-45.9492280455},geometry:{type:"Point",coordinates:[-73.17916796873456,-45.949228045538476]}},{type:"Feature",properties:{Region:"Magallanes",Capital:"Punta Arenas",Area:"132,291.1",Pop:"166,533",X:-72.3431685686,Y:-51.8507046991},geometry:{type:"Point",coordinates:[-72.34316856855294,-51.85070469905161]}},{type:"Feature",properties:{Region:"Nuble",Capital:"Chillan",Area:"13,178.5",Pop:"480,609",X:-71.6716604624,Y:-35.8302726556},geometry:{type:"Point",coordinates:[-71.67166046244516,-35.83027265556569]}}]}},281:function(e,a,t){e.exports=t(613)},613:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(98),l=t.n(c),o=t(4),i=t(5),s=t(8),m=t(6),d=t(7),u=t(9),p=t(627),_=t(258),f=t(617),E=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-light navbar-expand-lg bg-white fixed-top",id:"mainNav"},r.a.createElement("div",{className:"container"},r.a.createElement(f.a,{to:"/",className:"navbar-brand js-scroll-trigger"},r.a.createElement("img",{id:"logo_ctec_nav",src:"".concat(window.PUBLIC_URL,"/assets/img/LG-CTEC@1x.png"),alt:"CteC"})),r.a.createElement("button",{className:"navbar-toggler float-right","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"nav navbar-nav ml-auto nav-pills"},r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement(f.a,{to:"/",className:"nav-link js-scroll-trigger",activeClassName:"active",exact:!0},"Home")),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement(f.a,{to:"/quienes",className:"nav-link js-scroll-trigger"},"Qui\xe9nes Somos")),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement(f.a,{to:"/indicadores",className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Indicadores"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},r.a.createElement(f.a,{to:"/indicadores",className:"dropdown-item"},"Destacados"),r.a.createElement(f.a,{to:"/indicadores/macroeconomia",className:"dropdown-item"},"Macroindicadores"),r.a.createElement(f.a,{to:"/indicadores/Inmobiliarios",className:"dropdown-item"},"Inmobiliarios y habitacionales"),r.a.createElement(f.a,{to:"/indicadores/sustentabilidad",className:"dropdown-item"},"Sustentabilidad"),r.a.createElement(f.a,{to:"/indicadores/Innovacion",className:"dropdown-item"},"Innovaci\xf3n y BIM"),r.a.createElement(f.a,{to:"/indicadores/Seguridad",className:"dropdown-item"},"Seguridad Laboral"),r.a.createElement(f.a,{to:"/indicadores/Cchc",className:"dropdown-item"},"CChC"))),r.a.createElement("li",{className:"nav-item",role:"presentation"},r.a.createElement(f.a,{to:"/fuentes",className:"nav-link js-scroll-trigger"},"Fuente de datos"))))))}}]),a}(n.Component),g=t(156),h=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{id:"landing",className:"header-home clean-block clean-hero"},r.a.createElement("div",{className:"header-home-content mt-5 text-center"},r.a.createElement("img",{src:"".concat(window.PUBLIC_URL,"/assets/img/logo_smartdata_construccion.png"),className:"header-home__logo mx-auto d-block",id:"lp",alt:"SmartData"}),r.a.createElement("p",{id:"descripcion",className:"header-home-content__text"},"SmartData Construcci\xf3n, es una plataforma tecnol\xf3gica de acceso libre y gratuito, que busca consolidar datos p\xfablicos, actualizados, levantados y procesados desde fuentes, que permitan generar, visualizar de indicadores relevantes para la industria de la construcci\xf3n en Chile."),r.a.createElement(g.a,{to:"/indicadores",className:"header-home__link"},r.a.createElement("span",null,"Explorar Indicadores"),r.a.createElement("svg",null,r.a.createElement("polyline",{className:"o1",points:"0 0, 250 0, 250 50, 0 50, 0 0"}),r.a.createElement("polyline",{className:"o2",points:"0 0, 250 0, 250 50, 0 50, 0 0"})))))}}]),a}(n.Component),b=window.jQuery,v=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){b(document).ready(function(){b("#huincha").carousel({interval:2e3,pause:!1,wrap:!0})})}},{key:"render",value:function(){return r.a.createElement("section",{className:"socios"},r.a.createElement("div",{id:"huincha",className:"carousel slide container","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("div",{className:"d-flex justify-content-around align-items-center"},r.a.createElement("a",{href:"https://www.cchc.cl"},r.a.createElement("img",{className:"socios__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/cchc.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"})),r.a.createElement("a",{href:"https://www.chilegbc.cl"},r.a.createElement("img",{className:"socios__item--md",src:"".concat(window.PUBLIC_URL,"/assets/logos/chilegbc.png"),target:"_blank",rel:"noopener noreferrer",alt:"chilegbc"})),r.a.createElement("a",{href:"https://www.ine.cl"},r.a.createElement("img",{className:"socios__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/ine.png"),target:"_blank",rel:"noopener noreferrer",alt:"ine"})),r.a.createElement("a",{href:"http://homer.sii.cl"},r.a.createElement("img",{className:"socios__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/sii.png"),target:"_blank",rel:"noopener noreferrer",alt:"sii"})))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around align-items-center"},r.a.createElement("a",{href:"https://www.economia.gob.cl"},r.a.createElement("img",{className:"socios__item--md",src:"".concat(window.PUBLIC_URL,"/assets/logos/minecom.png"),target:"_blank",rel:"noopener noreferrer",alt:"minecom"})),r.a.createElement("a",{href:"http://www.ministeriodesarrollosocial.gob.cl"},r.a.createElement("img",{className:"socios__item--md",src:"".concat(window.PUBLIC_URL,"/assets/logos/minsocial.jpg"),target:"_blank",rel:"noopener noreferrer",alt:"minsocial"})),r.a.createElement("a",{href:"http://www.clapesuc.cl"},r.a.createElement("img",{className:"socios__item--sm",src:"".concat(window.PUBLIC_URL,"/assets/logos/clapes.png"),target:"_blank",rel:"noopener noreferrer",alt:"clapes"})),r.a.createElement("a",{href:"https://www.uc.cl"},r.a.createElement("img",{className:"socios__item--sm",src:"".concat(window.PUBLIC_URL,"/assets/logos/puc.png"),target:"_blank",rel:"noopener noreferrer",alt:"puc"})),r.a.createElement("a",{href:"http://www.uchile.cl"},r.a.createElement("img",{className:"socios__item--sm",src:"".concat(window.PUBLIC_URL,"/assets/logos/uchile.png"),target:"_blank",rel:"noopener noreferrer",alt:"uchile"})))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-flex justify-content-around align-items-center"},r.a.createElement("a",{href:"https://digital.gob.cl"},r.a.createElement("img",{className:"socios__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/gobdigital.png"),target:"_blank",rel:"noopener noreferrer",alt:"gobdigital"})),r.a.createElement("a",{href:"https://planbim.cl"},r.a.createElement("img",{className:"socios__item--md",src:"".concat(window.PUBLIC_URL,"/assets/logos/planbim.png"),target:"_blank",rel:"noopener noreferrer",alt:"planbim"})),r.a.createElement("a",{href:"https://new.usgbc.org"},r.a.createElement("img",{className:"socios__item--md",src:"".concat(window.PUBLIC_URL,"/assets/logos/usgbc.jpg"),target:"_blank",rel:"noopener noreferrer",alt:"usgbc"})),r.a.createElement("a",{href:"https://www.corfo.cl"},r.a.createElement("img",{className:"socios__item--sm",src:"".concat(window.PUBLIC_URL,"/assets/logos/corfo.png"),target:"_blank",rel:"noopener noreferrer",alt:"corfo"})),r.a.createElement("a",{href:"http://construye2025.cl"},r.a.createElement("img",{className:"socios__item--sm",src:"".concat(window.PUBLIC_URL,"/assets/logos/construye.png"),target:"_blank",rel:"noopener noreferrer",alt:"construye"})))))))}}]),a}(n.Component),k=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(v,null))}}]),a}(n.Component),y=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header-kpi"},r.a.createElement("div",{className:"container text-right"},r.a.createElement("h1",null,"Indicadores")))}}]),a}(n.Component),N=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"tabs-space",className:"kpiTabs"},r.a.createElement("div",{className:"btn-toolbar container d-flex justify-content-around justify-content-sm-between",role:"toolbar","aria-label":"Lista de Indicadores"},r.a.createElement(f.a,{to:"/indicadores",className:"kpiTabs-link js-scroll-trigger",activeClassName:"active",exact:!0},"Destacados"),r.a.createElement(f.a,{to:"/indicadores/macroeconomia",className:"kpiTabs-link js-scroll-trigger"},"Macroindicadores"),r.a.createElement(f.a,{to:"/indicadores/Sustentabilidad",className:"kpiTabs-link js-scroll-trigger"},"Sustentabilidad"),r.a.createElement(f.a,{to:"/indicadores/Inmobiliarios",className:"kpiTabs-link js-scroll-trigger"},"Inmobiliarios y Habitacionales"),r.a.createElement(f.a,{to:"/indicadores/Innovacion",className:"kpiTabs-link js-scroll-trigger"},"Innovaci\xf3n y BIM"),r.a.createElement(f.a,{to:"/indicadores/Seguridad",className:"kpiTabs-link js-scroll-trigger"},"Seguridad Laboral"),r.a.createElement(f.a,{to:"/indicadores/Cchc",className:"kpiTabs-link js-scroll-trigger"},"C\xe1mara Chilena de la Construcci\xf3n")))}}]),a}(n.Component),O=t(12),j=t(3),w=t.n(j),C={LOADING:"cargando",LOADED:"cargado",ERROR:"error"},S={},A={},L=function(e){return S[e]=[],A[e]=0,new Promise(function(a,t){var n=(new Date).valueOf();fetch("".concat("/api/v1","/kpi/").concat(e,"?dt=").concat(n),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){if(200!==e.status)throw new Error("Error al consultar Kpi");return e.json()}).then(function(t){if(t.error_code)throw new Error("Error en datos de Kpi");var n=t.data_files.files;A[e]=n.length,function e(a,t,n,r){var c=n.shift(),l=(new Date).valueOf();fetch("".concat(t).concat(c.name,"?dt=").concat(l),{"Content-Type":"plain/text"}).then(function(e){return e.json()}).then(function(l){return n.length&&e(a,t,n,r),A[a]--,S[a][c.label]=l,r()}).catch(function(e){return console.log(e),null})}(e,t.data_base_path,n,function(){0===A[e]&&a(S[e])})}).catch(function(e){t(e)})})},x={backgroundColor:"#fff",border:"solid",borderWidth:1,borderColor:"#aaa",padding:10},I={fontSize:14,margin:0,padding:0},D={fontWeight:"bold"},R=function(e){var a=e.active,t=e.payload;e.label;if(a&&t){var n=t[0].payload;return r.a.createElement("div",{style:x},w.a.map(n.tooltip,function(e,a){return r.a.createElement("p",{style:I,key:a},r.a.createElement("span",{style:D},"Fecha: "===e.label?e.label:"".concat(e.label,": ")),parseFloat(e.data).toLocaleString("es-ES"))}))}return null},P=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:0,top:0,left:null,right:null,negative:!1},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t.xAxisTickFormatter=t.xAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t.yAxisTickFormatter=t.yAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=[a[w.a.keys(a)[0]][1]],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS,s=e.props.isAllYears;s&&(o=-1),e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i,isAllYears:s}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this,r=this.state,c=r.all_years,l=r.isCountry,o=1,i=[],s=[],m=a>-1?[c[a]]:c,d=!1,u=0,p=0;m.forEach(function(e){if(l){var a=e.regiones.PAIS.meses;w.a.keys(a).forEach(function(t){var r=a[t],c=w.a.keys(r)[0],l=w.a.round(r[c],4),s=w.a.keys(r.tooltip),m=w.a.map(s,function(e){return{label:e,data:r.tooltip[e]}}),_="".concat(t," ").concat(e.anio);d=l<0,u=l<n.state.bottom?l:n.state.bottom,p=l>n.state.bottom?l:n.state.top;var f={idx:o++,x:_,y:l,tooltip:m,tooltip_head:{label:"".concat(c," (").concat(_,")"),data:l}};i.push(f)})}else{var r=(s=w.a.keys(e.regiones))[t],c=e.regiones[r].meses;w.a.keys(c).forEach(function(a){var t=c[a],r=w.a.keys(t)[0],l=w.a.round(t[r],4),s=w.a.keys(t.tooltip),m=w.a.map(s,function(e){return{label:e,data:t.tooltip[e]}}),_="".concat(a," ").concat(e.anio);d=l<0,u=l<n.state.bottom?l:n.state.bottom,p=l>n.state.bottom?l:n.state.top;var f={idx:o++,x:_,y:l,name:"".concat(a," (").concat(l,")"),size:l,tooltip:m,tooltip_head:{label:"".concat(r," (").concat(_,")"),data:l}};i.push(f)})}}),this.setState({kpi_sel:e,year_sel:a,region_sel:t,graphData:i,all_regions:s,negative:d,bottom:u,top:p})}},{key:"xAxisTickFormatter",value:function(e){var a=this.props.kpi_name;return["Permisos_Edificacion_por_Anio","Inversion_Vivivenda","Inversion_Infraestructura",,"Trabajadores_Promedio_Anual",,"Trabajadores_Region",,"Por_Regiones_Trimestre_Mensual",,"Indicador_anual_Sustentabilidad_Comercial","Indicador_anual_Sustentabilidad_Publico","Indicador_anual_de_Sustentabilidad_Residencial","Indicador_anual_de_Sustentabilidad_Total","Cantidad_proyectos_tipo_Certificacion_y_proyecto_mensual","Instituciones_capacitaci\xf3n_formal_BIM_instituci\xf3n_region"].find(function(e){return e===a})?e.split(" ")[1]:e.split(" ")[0]}},{key:"yAxisTickFormatter",value:function(e){return parseFloat(e).toLocaleString("es-ES")}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.all_years,c=a.isCountry,l=a.kpi_head,o=a.isAllYears,i=a.graphData,s=a.left,m=a.right,d=a.refAreaLeft,u=a.refAreaRight,p=a.bottom,_=a.top;if(t===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(t===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var f=w.a.map(n,function(e){return e.anio}),E=o?[n[n.length-1]]:[n[this.state.year_sel]],g=c?null:w.a.keys(E[0].regiones),h=l.comment,b=l.linkPlot,v=l.glosario,k=l.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},l.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",l.Fuente),h&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":h},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement(O.i,{width:"95%",height:350},r.a.createElement(O.f,{data:i,margin:{top:25,right:15,left:10,bottom:25}},r.a.createElement(O.k,{allowDataOverflow:!1,interval:0,dataKey:"x",stroke:"#222",domain:[s,m],tickFormatter:this.xAxisTickFormatter}),r.a.createElement(O.l,{allowDataOverflow:!1,stroke:"#222",dataKey:"y",domain:[p,_],tickFormatter:this.yAxisTickFormatter}),r.a.createElement(O.h,{y:0,stroke:"#000"}),r.a.createElement(O.j,{content:r.a.createElement(R,null)}),r.a.createElement(O.e,{type:"monotone",dataKey:"y",stroke:"#222",fill:"#222",dot:!0,activeDot:{r:.5}}),d&&u&&r.a.createElement(O.g,{x1:d,x2:u,strokeOpacity:.3,stroke:"#2872d0"})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},g&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,e.state.year_sel,a.target.value)}},w.a.map(g,function(e,a){return r.a.createElement("option",{value:a,key:a},e)})),!o&&f&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.year_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,a.target.value,e.state.region_sel)}},w.a.map(f,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},b&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:b,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),v&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:v,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),k&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(k),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),F=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null,latitude:-33.4525,longitude:-70.6586,mapZoom:10,data_polys:[]},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=[a[w.a.keys(a)[0]][1]],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS;e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this.state,r=n.all_years,c=n.isCountry,l=1,o=[];(a>-1?[r[a]]:r).forEach(function(e){if(c){var a=e.regiones.PAIS.meses;w.a.keys(a).forEach(function(e){var t=a[e],n=w.a.keys(t)[0],r=w.a.round(t[n],4),c=w.a.keys(t.tooltip),i=w.a.map(c,function(e){return{label:e,data:w.a.round(t.tooltip[e],3)}}),s={idx:l++,x:e,y:r,tooltip:i,tooltip_head:{label:"(".concat(e,")"),data:r}};o.push(s)})}else{var n=w.a.keys(e.regiones),r=e.regiones[n[t]].meses;w.a.keys(r).forEach(function(e){var a=r[e],t=w.a.keys(a)[0],n=w.a.round(a[t],4),c=w.a.keys(a.tooltip),i=w.a.map(c,function(e){return{label:e,data:w.a.round(a.tooltip[e],3)}}),s={idx:l++,x:e,y:n,tooltip:i,tooltip_head:{label:"(".concat(e,")"),data:n}};o.push(s)})}}),this.setState({kpi_sel:e,year_sel:a,region_sel:t,graphData:o})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.graphData,c=a.all_years,l=a.isCountry,o=a.kpi_head;if(t===C.LOADING)return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Cargando...")));if(t===C.ERROR)return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Error cargando datos...")));var i=w.a.last(n),s=w.a.map(c,function(e){return e.anio}),m=[c[this.state.year_sel]],d=l?null:w.a.keys(m[0].regiones),u=o.comment,p=o.linkPlot,_=o.glosario,f=o.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},o.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",o.Fuente),u&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":u},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement("p",{className:"kpi-data"},i.y.toString().replace(/\./g,","))),r.a.createElement("div",{className:"card-footer footer_kpi"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},d&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,e.state.year_sel,a.target.value)}},w.a.map(d,function(e,a){return r.a.createElement("option",{value:a,key:a},e)})),s&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.year_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,a.target.value,e.state.region_sel)}},w.a.map(s,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},p&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:p,target:"png"},r.a.createElement("i",{className:"far fa-file-image"}))),_&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:_,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),f&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(f),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),T=t(22),U={backgroundColor:"#fff",border:"solid",borderWidth:1,borderColor:"#aaa",padding:10,display:"row"},B={fontSize:14,fontWeight:"bold",textAlign:"left"},M={fontSize:14,height:20,margin:0,padding:0},V=function(e){var a=e.active,t=e.payload,n=e.label;return a?r.a.createElement("div",{style:U},r.a.createElement("p",{style:Object(T.a)({},M,B)},"".concat(n)),w.a.map(t,function(e,a){return r.a.createElement("p",{key:a,style:M},r.a.createElement("span",{style:B},"".concat(e.dataKey,":"))," ",parseFloat(e.value).toLocaleString("es-ES"))})):null},z=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t.xAxisTickFormatter=t.xAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t.formatName=t.formatName.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=[a[w.a.keys(a)[0]][1]],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS,s=e.props.isAllYears;s&&(o=-1),e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i,isAllYears:s}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this,r=this.state,c=r.all_years,l=r.isCountry,o=1,i=[],s=[];(a>-1?[c[a]]:c).forEach(function(e){if(l){var a=e.regiones.PAIS.meses;w.a.keys(a).forEach(function(t){var n=a[t],r=w.a.keys(n)[0],c=w.a.round(n[r],2),l=w.a.keys(n.tooltip),s=w.a.map(l,function(e){return{label:e,data:n.tooltip[e]}}),m="".concat(t," ").concat(e.anio),d={idx:o++,x:m,kpi_value:c,tooltip:s,tooltip_head:{label:"".concat(r," (").concat(m,")"),data:c}};i.push(d)})}else{var r=(s=w.a.keys(e.regiones))[t],c=e.regiones[r].meses;w.a.keys(c).forEach(function(a){var t=c[a],r=w.a.keys(t)[0],l=w.a.round(t[r],2),s=w.a.keys(t.tooltip),m=w.a.map(s,function(e){return{label:e,data:t.tooltip[e]}}),d="".concat(a," ").concat(e.anio),u=w.a.sumBy(w.a.map(w.a.keys(e.regiones),function(t){var n=e.regiones[t].meses[a],r=w.a.keys(n)[0];return w.a.round(n[r],2)}),function(e){return _=e}),p=n.formatName(n.props.kpi_name,a,e.anio),_={idx:o++,Total:w.a.round(u,2),"Valor Indicador":l,name:"".concat(p," (").concat(w.a.round(100*l/u,2),"%)"),size:l,tooltip:m,tooltip_head:{label:"".concat(r," (").concat(d,")"),data:l}};i.push(_)})}}),this.setState({kpi_sel:e,year_sel:a,region_sel:t,graphData:i,all_regions:s})}},{key:"formatName",value:function(e,a,t){var n=a;return"CEV1"!==e&&"CEV2"!==e||(n=t),n}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"xAxisTickFormatter",value:function(e){return e.split(" ")[0]}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.all_years,c=a.isCountry,l=a.kpi_head,o=a.isAllYears,i=a.graphData;if(t===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(t===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var s=w.a.map(n,function(e){return e.anio}),m=o?[n[n.length-1]]:[n[this.state.year_sel]],d=c?null:w.a.keys(m[0].regiones),u=l.comment,p=l.linkPlot,_=l.glosario,f=l.LinkDatosOriginales,E="Participacion_respecto_economia"===this.props.kpi_name||"Trabajadores_protegidos_sector_construcci\xf3n_regi\xf3n"===this.props.kpi_name?d:w.a.map(d,function(e){return"Nivel de etiquetado "+e});return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},l.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",l.Fuente),u&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":u},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body"},r.a.createElement(O.i,{width:"100%",height:350},r.a.createElement(O.b,{width:500,height:400,data:i,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(O.c,{strokeDasharray:"3 3"}),r.a.createElement(O.k,{dataKey:"name",tickFormatter:this.xAxisTickFormatter,interval:0}),r.a.createElement(O.l,null),r.a.createElement(O.j,{content:V}),r.a.createElement(O.d,{formatter:function(e,a){var t=a.color;return r.a.createElement("span",{style:{color:t,fontSize:14}},e)}}),r.a.createElement(O.a,{type:"monotone",dataKey:"Total",stackId:"2",stroke:"#529FC9",fill:"#529FC9"}),r.a.createElement(O.a,{type:"monotone",dataKey:"Valor Indicador",stackId:"1",stroke:"#275F7D",fill:"#275F7D"})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},d&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,e.state.year_sel,a.target.value)}},w.a.map(E,function(e,a){return r.a.createElement("option",{value:a,key:a},e)})),!o&&s&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.year_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,a.target.value,e.state.region_sel)}},w.a.map(s,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},p&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:p,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),_&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:_,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),f&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(f),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),Y=t(33),q={backgroundColor:"#fff",border:"solid",borderWidth:1,borderColor:"#aaa",padding:10,display:"row"},G={fontSize:14,fontWeight:"bold",textAlign:"left"},Q={fontSize:14,height:20,margin:0,padding:0},K=function(e){var a=e.active,t=e.payload,n=e.label;return a?r.a.createElement("div",{style:q},r.a.createElement("p",{style:Object(T.a)({},Q,G)},"".concat(n)),w.a.map(t,function(e){return r.a.createElement("p",{style:Q},r.a.createElement("span",{style:G},"".concat(e.dataKey,":"))," ",parseFloat(e.value).toLocaleString("es-ES"))})):null},X=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t.xAxisTickFormatter=t.xAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=a[w.a.keys(a)[0]][1],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS;e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this.state,r=n.kpi_data[n.all_kpi[e]],c=w.a.map(r,function(e){return e}),l=0,o=[],i=w.a.keys(c[0].regiones);c.forEach(function(e){var a,n=w.a.sum(w.a.map(w.a.keys(e.regiones),function(a){var t=w.a.keys(e.regiones[a].meses)[0],n=e.regiones[a].meses[t],r=w.a.keys(n)[0];return w.a.round(n[r],1)})),r=i[t],c=e.regiones[r],s=w.a.keys(c.meses),m=c.meses[w.a.last(s)],d=w.a.keys(m),u=m[d[0]],p=w.a.keys(m.tooltip),_=w.a.map(p,function(e){return{label:e,data:m.tooltip[e]}});l++;var f=(a={idx:l++},Object(Y.a)(a,"Total",w.a.round(n,1)),Object(Y.a)(a,"Valor Categor\xeda",u),Object(Y.a)(a,"name","".concat(e.anio," (").concat(w.a.round(100*u/n,2),"%)")),Object(Y.a)(a,"size",u),Object(Y.a)(a,"tooltip",_),Object(Y.a)(a,"tooltip_head",{label:"".concat(d[0]," (").concat(r,")"),data:u}),a);o.push(f)}),this.setState({kpi_sel:e,year_sel:a,region_sel:t,graphData:o,all_regions:i})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"xAxisTickFormatter",value:function(e){return e.split(" ")[0]}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.graphData,c=a.all_regions,l=a.kpi_head,o=a.all_kpi;if(t===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(t===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var i=l.comment,s=l.linkPlot,m=l.glosario,d=l.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},l.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",l.Fuente),i&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":i},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body text-right"},r.a.createElement(O.i,{width:"100%",height:350},r.a.createElement(O.b,{width:500,height:400,data:n,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(O.c,{strokeDasharray:"3 3"}),r.a.createElement(O.k,{dataKey:"name",tickFormatter:this.xAxisTickFormatter,interval:0}),r.a.createElement(O.l,null),r.a.createElement(O.j,{content:K}),r.a.createElement(O.d,{formatter:function(e,a){var t=a.color;return r.a.createElement("span",{style:{color:t,fontSize:14}},e)}}),r.a.createElement(O.a,{type:"monotone",dataKey:"Total",stackId:"2",stroke:"#529FC9",fill:"#529FC9"}),r.a.createElement(O.a,{type:"monotone",dataKey:"Valor Categor\xeda",stackId:"1",stroke:"#275F7D",fill:"#275F7D"})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},o&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(a.target.value,e.state.year_sel,e.state.region_sel)}},w.a.map(o,function(e,a){return r.a.createElement("option",{value:a,key:a},e)})),c&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,e.state.year_sel,a.target.value)}},w.a.map(c,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},s&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:s,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),m&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:m,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),d&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(d),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),J=t(618),W=t(619),H=t(620),Z=t(621),$=t(622),ee=t(623),ae=t(624),te=t(625),ne=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e="https://smartdata-final.herokuapp.com/",a="SmartData Construcci\xf3n, es una plataforma tecnol\xf3gica de acceso libre y gratuito, que busca consolidar datos p\xfablicos, actualizados, levantados y procesados desde fuentes, que permitan generar, visualizar de indicadores relevantes para la industria de la construcci\xf3n en Chile.";return r.a.createElement("div",{className:"kpi-rrss d-flex"},r.a.createElement("div",{className:"kpi-rrss__item"},r.a.createElement(J.a,{url:e+this.props.shareUrl,quote:a,className:"share-button",id:"facebook"},r.a.createElement(W.a,{size:32,round:!0}))),r.a.createElement("div",{className:"kpi-rrss__item"},r.a.createElement(H.a,{url:e+this.props.shareUrl,title:a.slice(0,101),className:"share-button"},r.a.createElement(Z.a,{size:32,round:!0}))),r.a.createElement("div",{className:"kpi-rrss__item"},r.a.createElement($.a,{url:e+this.props.shareUrl,title:a,separator:":: ",className:"share-button"},r.a.createElement(ee.a,{size:32,round:!0}))),r.a.createElement("div",{className:"kpi-rrss__item"},r.a.createElement(ae.a,{url:e+this.props.shareUrl,windowWidth:750,windowHeight:600,className:"share-button"},r.a.createElement(te.a,{size:32,round:!0}))))}}]),a}(n.Component),re=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"kpis",className:"kpiSection container"},r.a.createElement("h2",{className:"section-header__title",id:"macro"},"Macroindicadores"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"Los Macroindicadores muestran la evoluci\xf3n econ\xf3mica y de otros tipos de variables estrat\xe9gicas, que dan una visi\xf3n r\xe1pida del comportamiento sectorial de la construcci\xf3n nacional."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_Macroindicadores_28_05_2019.pdf",target:"pdf"}," ",r.a.createElement("i",{className:"fa fa-file-pdf pr-2"})," Descarga m\xe1s informaci\xf3n aqu\xed  "),r.a.createElement(ne,{shareUrl:"indicadores/macroeconomia"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"PTF_Variacion"}),r.a.createElement(F,{kpi_name:"PML_Chile_Contruccion"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"Ranking_Formalidad"}),r.a.createElement(F,{kpi_name:"Promedio_Cesantes"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"PIB_Contruccion"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(z,{kpi_name:"Participacion_respecto_economia"}),r.a.createElement(X,{kpi_name:"Participacion_regional_MM_total_pais_anio"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Permisos_Edificacion_M2"}),r.a.createElement(P,{kpi_name:"Permisos_Edificacion_Viviendas"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Permisos_Edificacion_Acumulados_m2"}),r.a.createElement(P,{kpi_name:"Permisos_Edificacion_por_Anio",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"IMACON_Variacion_Mensual_2"}),r.a.createElement(P,{kpi_name:"IMACON_Variacion_Anual"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"INACOR_Variacion_Mensual"}),r.a.createElement(P,{kpi_name:"INACOR_Variacion_Anual"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Inversion_Vivivenda",isAllYears:!0}),r.a.createElement(P,{kpi_name:"Inversion_Infraestructura",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Trabajadores_Promedio_Anual",isAllYears:!0}),r.a.createElement(P,{kpi_name:"Trabajadores_Region",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(X,{kpi_name:"Promedio_Anual_Sector_Region",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Por_Regiones_Trimestre_Mensual",isAllYears:!0})))))}}]),a}(n.Component),ce=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(re,null),r.a.createElement(v,null))}}]),a}(n.Component),le={backgroundColor:"#fff",border:"solid",borderWidth:1,borderColor:"#aaa",padding:10,display:"row"},oe={fontSize:12,textAlign:"right"},ie={fontSize:12,fontWeight:"bold",textAlign:"right"},se={width:"500px",display:"flex"},me=function(e){var a=e.active,t=e.payload;e.label;if(a&&t){var n=t[0].payload,c=w.a.keys(n.tooltip[0]),l=w.a.values(n.tooltip[0]);return r.a.createElement("div",{style:le},r.a.createElement("div",{key:"a",style:se},r.a.createElement("div",{style:{width:"30%"}},r.a.createElement("span",null)),r.a.createElement("div",{style:Object(T.a)({width:"15%"},ie)},r.a.createElement("span",null,l[5],".")),r.a.createElement("div",{style:Object(T.a)({width:"15%"},ie)},r.a.createElement("span",null,c[2])),r.a.createElement("div",{style:Object(T.a)({width:"20%"},ie)},r.a.createElement("span",null,c[3])),r.a.createElement("div",{style:Object(T.a)({width:"20%"},ie)},r.a.createElement("span",null,c[4]))),w.a.map(n.tooltip,function(e,a){var t=w.a.keys(e)[0],n=w.a.values(e);return r.a.createElement("div",{key:a,style:se},r.a.createElement("div",{style:{width:"30%",textAlign:"right"}},r.a.createElement("span",{style:ie},t)),r.a.createElement("div",{style:Object(T.a)({width:"15%"},oe)},r.a.createElement("span",null,n[0])),r.a.createElement("div",{style:Object(T.a)({width:"15%"},oe)},r.a.createElement("span",null,n[2])),r.a.createElement("div",{style:Object(T.a)({width:"20%"},oe)},r.a.createElement("span",null,n[3])),r.a.createElement("div",{style:Object(T.a)({width:"20%"},oe)},r.a.createElement("span",null,n[4])))}))}return null},de=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t.xAxisTickFormatter=t.xAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t.yAxisTickFormatter=t.yAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=[a[w.a.keys(a)[0]][1]],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS,s=e.props.isAllYears;s&&(o=-1),e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i,isAllYears:s}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a){var t=this.state,n=t.all_years,r=(t.isCountry,1),c=[];(a>-1?[n[a]]:n).forEach(function(e){var a=w.a.values(e.regiones).map(function(e){return e.meses}).map(function(e){return w.a.values(e).map(function(e){return e})}),t=w.a.flatten(a).map(function(e){var a=e.tooltip;return a.Mes=e.tooltip["Fecha: "].split(" ")[1],a});w.a.values(w.a.groupBy(t,"Mes")).forEach(function(e){var a={idx:r++,x:e[0].Mes,a:e[0]["Barras de Acero [Ton]"],b:e[1]["Cemento [Ton]"],c:e[2]["Hormig\ufffdn [m3]"],d:e[3]["Mat construcc."],tooltip:e};c.push(a)}),console.log("graphData new: ",c)}),this.setState({kpi_sel:e,year_sel:a,graphData:c})}},{key:"xAxisTickFormatter",value:function(e){return e.split(" ")[0]}},{key:"yAxisTickFormatter",value:function(e){return parseFloat(e).toLocaleString("es-ES")}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.all_years,c=(a.isCountry,a.kpi_head),l=a.isAllYears,o=a.graphData,i=a.left,s=a.right,m=a.refAreaLeft,d=a.refAreaRight,u=a.bottom,p=a.top;if(t===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(t===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var _=w.a.map(n,function(e){return e.anio}),f=c.comment,E=c.linkPlot,g=c.glosario,h=c.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},c.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",c.Fuente),f&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":f},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body text-center"},r.a.createElement(O.i,{width:"95%",height:350},r.a.createElement(O.f,{data:o,margin:{top:25,right:10,left:10,bottom:25}},r.a.createElement(O.k,{allowDataOverflow:!1,interval:0,dataKey:"x",stroke:"#222",domain:[i,s],tickFormatter:this.xAxisTickFormatter}),r.a.createElement(O.l,{allowDataOverflow:!1,stroke:"#222",domain:[u,p],padding:{top:20,bottom:20},tickFormatter:this.yAxisTickFormatter}),r.a.createElement(O.h,{y:0,stroke:"#000"}),r.a.createElement(O.j,{content:r.a.createElement(me,null)}),r.a.createElement(O.d,{formatter:function(e,a){var t=a.color;return r.a.createElement("span",{style:{color:t,fontSize:14}},e)}}),r.a.createElement(O.e,{type:"monotone",dataKey:"a",name:"Barras de Acero [Ton]",stroke:"#ecbe7a",fill:"#ecbe7a",dot:!0,activeDot:{r:.6}}),r.a.createElement(O.e,{type:"monotone",dataKey:"b",name:"Cemento [Ton]",stroke:"#e08963",fill:"#e08963",dot:!0,activeDot:{r:.6}}),r.a.createElement(O.e,{type:"monotone",dataKey:"c",name:"Hormig\ufffdn [m3]",stroke:"#82ca9d",fill:"#82ca9d",dot:!0,activeDot:{r:.6}}),r.a.createElement(O.e,{type:"monotone",dataKey:"d",name:"Mat construcc.",stroke:"#8884d8",fill:"#8884d8",dot:!0,activeDot:{r:.6}}),m&&d&&r.a.createElement(O.g,{x1:m,x2:d,strokeOpacity:.3,stroke:"#2872d0"})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},!l&&_&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.year_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,a.target.value,e.state.region_sel)}},w.a.map(_,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},E&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:E,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),g&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:g,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),h&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(h),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),ue=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"treemap",className:"kpiSection container treemap-space"},r.a.createElement("h2",{className:"section-header__title",id:"cchc"}," C\xe1mara Chilena de la Construcci\xf3n"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"La C\xe1mara Chilena de la Construcci\xf3n, CChC, es una Asociaci\xf3n Gremial, formalizada en 1979. Su objetivo primordial es promover el desarrollo y fomento de la actividad de la construcci\xf3n, como una palanca fundamental para el desarrollo del pa\xeds en el contexto de una econom\xeda social de mercado basada en la iniciativa privada."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_CChC_29_05_2019.pdf",target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf pr-2"}),"Descarga m\xe1s informaci\xf3n aqu\xed"),r.a.createElement(ne,{shareUrl:"indicadores/Cchc"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"CChC_IMACON_Variacion_Mensual"}),r.a.createElement(P,{kpi_name:"CChC_IMACON_Variacion_Anual"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"CChC_INACOR_Variacion_Mensual"}),r.a.createElement(P,{kpi_name:"CChC_INACOR_Variacion_Anual"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"CChC_Ventas_Santiago"}),r.a.createElement(P,{kpi_name:"CChC_Indice_Real_Precios_Vivienda_Santiago"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(de,{kpi_name:"CChC_materiales"})))))}}]),a}(n.Component),pe=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(ue,null),r.a.createElement(v,null))}}]),a}(n.Component),_e=t(626),fe=t(629),Ee=t(628),ge=t(254),he=t.n(ge),be=t(21),ve=t.n(be),ke=t(255),ye=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:6,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null,latitude:-33.461133,longitude:-70.615593,mapZoom:10.7,data_polys:[]},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=[a[w.a.keys(a)[0]][1]];n=n[w.a.keys(n)[e.state.kpi_sel]].features;var r=w.a.map(ke.regiones_centroides,function(e){return{Region:e.properties.Region,X:e.properties.X,Y:e.properties.Y,zoom:9}});e.setState({kpi_head:t,load_state:C.LOADED,kpi_data:n,all_regions_lat_lng:r})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this.mapInstance.leafletElement,r=this.state.all_regions_lat_lng[t];n.flyTo([r.Y,r.X],r.zoom),this.setState({kpi_sel:e,year_sel:a,region_sel:t})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"render",value:function(){var e=this,a=this.state,t=a.kpi_head,n=a.load_state,c=a.kpi_data,l=a.isCountry,o=a.all_regions_lat_lng,i=a.latitude,s=a.longitude;if(n===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(n===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var m=[i,s],d=t.comment,u=t.linkPlot,p=t.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},d&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":d},r.a.createElement("i",{className:"fas fa-info-circle"})),r.a.createElement("h5",{className:"card-header__title"},"Localizaci\xf3n Proyectos con certificaci\xf3n LEED y CES"),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: USGBC / CES")),r.a.createElement("div",{className:"card-body"},r.a.createElement(_e.a,{ref:function(a){e.mapInstance=a},center:m,zoom:this.state.mapZoom,style:{light:{color:"light",intensity:.1},height:600},scrollWheelZoom:!1},r.a.createElement(fe.a,{attribution:'&copy <a href="https://mapbox.com">MapBox</a>',url:"YOUR_MAPBOX_KEY"}),c&&r.a.createElement(Ee.a,{key:he()(c),data:c,pointToLayer:function(e,a){var t="transparent";return e&&e.properties.color&&(t=e.properties.color),ve.a.circleMarker(a,{radius:5,weight:2,color:t})},onEachFeature:function(e,a){if(e.properties&&e.properties.direccion){var t=e.properties.tooltip,n=w.a.map(w.a.keys(t),function(e){return"".concat(e,":").concat(t[e],"<br/>")});n&&a.bindPopup(w.a.join(n,""))}}}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},!l&&r.a.createElement("select",{className:"time_serie_region ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(e.state.kpi_sel,e.state.year_sel,a.target.value)}},w.a.map(o,function(e,a){return r.a.createElement("option",{value:a,key:a},e.Region)}))),r.a.createElement("div",{className:"col simbologia_mapa text-center"},r.a.createElement("span",null,"LEED",r.a.createElement("svg",{height:"30",width:"30"},r.a.createElement("circle",{cx:"15",cy:"15",r:"8",stroke:"rgba(0,0,0,0)",strokeWidth:"0",fill:"green"}))),r.a.createElement("span",null,"CES",r.a.createElement("svg",{height:"30",width:"30"},r.a.createElement("circle",{cx:"15",cy:"15",r:"8",stroke:"rgba(0,0,0,0)",strokeWidth:"0",fill:"red"})))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},u&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:u,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),p&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/Sustentabilidad.xlsx",target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),Ne=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"treemap",className:"kpiSection container"},r.a.createElement("h2",{className:"section-header__title",id:"sust"},"Sustentabilidad"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"El  impacto  acumulado  del  dise\xf1o,  construcci\xf3n  y  operaciones  de  los  edificios tienen  profundas  implicancias  para  la salud  humana, el  medio  ambiente  y  la econom\xeda.  En  este  contexto,  el  objetivo  es  lograr  edificios  mejor  calidad  del ambiente interior, minimizando los impactos ambientales asociados a su ciclo de vida y respetando el entorno que los rodea."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_Sustentabilidad_27_05_2019.pdf",target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf pr-2"}),"Descarga m\xe1s informaci\xf3n aqu\xed  "),r.a.createElement(ne,{shareUrl:"indicadores/Sustentabilidad"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Indicador_anual_Sustentabilidad_Comercial",isAllYears:!0}),r.a.createElement(P,{kpi_name:"Indicador_anual_Sustentabilidad_Publico",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Indicador_anual_de_Sustentabilidad_Residencial",isAllYears:!0}),r.a.createElement(P,{kpi_name:"Indicador_anual_de_Sustentabilidad_Total",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Indicador_mensual_de_Sustentabilidad_Comercial"}),r.a.createElement(P,{kpi_name:"Indicador_mensual_de_Sustentabilidad_Publico"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Indicador_mensual_de_Sustentabilidad_Residencial"}),r.a.createElement(P,{kpi_name:"Indicador_mensual_de_Sustentabilidad_Total"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Cantidad_proyectos_tipo_Certificacion_y_proyecto_mensual",isAllYears:!0})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(z,{kpi_name:"CEV1",isAllYears:!0}),r.a.createElement(z,{kpi_name:"CEV2",isAllYears:!0})),r.a.createElement("div",{className:"map-graph"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(ye,{kpi_name:"LEED_CES"}))))))}}]),a}(n.Component),Oe=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(Ne,null),r.a.createElement(v,null))}}]),a}(n.Component),je=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"kpis",className:"kpiSection container"},r.a.createElement("h2",{className:"section-header__title",id:"macro"}," Innovacion y BIM"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"En una definici\xf3n global, la innovaci\xf3n es el motor que transforma en valor las ideas que no se encuentran en el mercado, donde por valor se entiende algo que genera resultados positivos para todas las partes involucradas en cualquier organizaci\xf3n, ya sea una industria, un pa\xeds o una empresa."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_Innovacion_y_BIM_31_05_2019.pdf",target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf pr-2"}),"Descarga m\xe1s informaci\xf3n aqu\xed "),r.a.createElement(ne,{shareUrl:"indicadores/Innovacion"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"Tasa_de_Innovaci\xf3n_en_la_Industria_de_la_Construcci\xf3n"}),r.a.createElement(F,{kpi_name:"Gasto_en_nnovaci\xf3n_en_relaci\xf3n_a_las_ventas"}),r.a.createElement(F,{kpi_name:"Continuidad_de_la_Innovaci\xf3n"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"Nota_Costos"}),r.a.createElement(F,{kpi_name:"Nota_Conocimiento"}),r.a.createElement(F,{kpi_name:"Nota_Mercado"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"Nota_Otros"}),r.a.createElement(F,{kpi_name:"Innovaci\xf3n_Futura_a_2_a\xf1os"}),r.a.createElement(F,{kpi_name:"Instituciones_capacitaci\xf3n_formal_BIM_instituci\xf3n_carrera"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Instituciones_capacitaci\xf3n_formal_BIM_instituci\xf3n_region",isAllYears:!0})))))}}]),a}(n.Component),we=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(je,null),r.a.createElement(v,null))}}]),a}(n.Component),Ce=["#275F7D","#82D3FF","#53A0C9","#7D521A","#C99653"],Se={backgroundColor:"#fff",border:"solid",borderWidth:1,borderColor:"#aaa",padding:10},Ae={fontSize:14,fontWeight:"bold",textAlign:"left"},Le={fontSize:14,height:20,margin:0,padding:0},xe=function(e){var a=e.active,t=e.payload,n=e.label;return a?r.a.createElement("div",{style:Se},r.a.createElement("p",{style:Object(T.a)({},Le,Ae)},"".concat(n)),w.a.map(t,function(e){return r.a.createElement("p",{style:Le},r.a.createElement("span",{style:Ae},"".concat(e.dataKey,":"))," ",parseFloat(e.value).toLocaleString("es-ES"),"%")})):null},Ie=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={load_state:C.LOADING,kpi_data:null,kpi_sel:0,year_sel:0,region_sel:0,refAreaLeft:null,refAreaRight:null,bottom:null,top:null,left:null,right:null},t.getData=t.getData.bind(Object(u.a)(Object(u.a)(t))),t.setSel=t.setSel.bind(Object(u.a)(Object(u.a)(t))),t.xAxisTickFormatter=t.xAxisTickFormatter.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"getData",value:function(){var e=this;L(this.props.kpi_name).then(function(a){var t=a[w.a.keys(a)[0]][0][0],n=a[w.a.keys(a)[0]][1],r=w.a.keys(n),c=n[r[e.state.kpi_sel]],l=w.a.map(c,function(e){return e}),o=l.length-1,i=!!l[o].regiones.PAIS;e.setState({kpi_head:t,kpi_data:n,all_kpi:r,all_years:l,isCountry:i}),e.setSel(e.state.kpi_sel,o,e.state.region_sel),e.setState({load_state:C.LOADED})}).catch(function(a){console.log(a),e.setState({load_state:C.ERROR})})}},{key:"setSel",value:function(e,a,t){var n=this.state,r=n.kpi_data[n.all_kpi[e]],c=w.a.map(r,function(e){return e}),l=[],o={},i=w.a.keys(c[0].regiones);c.forEach(function(e,a){i[t];var n=w.a.values(e.regiones).map(function(e){return e.meses}).map(function(e){return e.Dic});o={idx:a,name:"".concat(e.anio),tooltip:n,keys:i},n.forEach(function(e,a){o[w.a.keys(e)[0]]=w.a.values(e)[0]}),l.push(o)}),this.setState({kpi_sel:e,year_sel:a,region_sel:t,graphData:l,all_regions:i})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"initJQ",value:function(){return(0,window.jQuery)('[data-toggle="popover"]').popover(),!0}},{key:"xAxisTickFormatter",value:function(e){return e.split(" ")[0]}},{key:"render",value:function(){var e=this,a=this.state,t=a.load_state,n=a.graphData,c=(a.all_regions,a.kpi_head),l=a.all_kpi;if(t===C.LOADING)return r.a.createElement("p",null,"Cargando...");if(t===C.ERROR)return r.a.createElement("p",null,"Error cargando datos...");var o=c.comment,i=c.linkPlot,s=c.glosario,m=c.LinkDatosOriginales;return r.a.createElement("div",{className:"card kpi-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",{className:"card-header__title"},c.titulo),r.a.createElement("span",{className:"card-header__fuente d-block"}," Fuente: ",c.Fuente),o&&r.a.createElement("a",{className:"btn btn__info",role:"button",href:"#comentario","data-toggle":"popover","data-trigger":"focus",tabIndex:"0","data-content":o},r.a.createElement("i",{className:"fas fa-info-circle"}))),r.a.createElement("div",{className:"card-body text-right"},r.a.createElement(O.i,{width:"100%",height:350},r.a.createElement(O.b,{width:500,height:300,data:n,margin:{top:"Habitacionales_CASEN_Conservacion"===this.props.kpi_name?10:30,right:30,left:0,bottom:0}},r.a.createElement(O.c,{strokeDasharray:"3 3"}),r.a.createElement(O.k,{dataKey:"name",tickFormatter:this.xAxisTickFormatter,interval:0}),r.a.createElement(O.l,null),r.a.createElement(O.j,{content:xe}),r.a.createElement(O.d,{layout:"vertical",verticalAlign:"bottom",formatter:function(e,a){var t=a.color;return r.a.createElement("span",{style:{color:t,fontSize:14}},e)}}),n[0].keys.map(function(e,a){return r.a.createElement(O.a,{type:"monotone",dataKey:e,stackId:0,stroke:Ce[a],fill:Ce[a]})})))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col"},l&&r.a.createElement("select",{className:"time_serie_year ".concat(this.props.kpi_name),defaultValue:this.state.region_sel,onChange:function(a){return e.setSel(a.target.value,e.state.year_sel,e.state.region_sel)}},w.a.map(l,function(e,a){return r.a.createElement("option",{value:a,key:a},e)}))),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"text-right"},i&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:i,target:"png"},r.a.createElement("i",{className:"fa fa-file"}))),s&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:s,target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf"}))),m&&r.a.createElement("li",{className:"card-footer__item"},r.a.createElement("a",{className:"btn btn-circle btn__info--white",role:"button",href:"".concat(m),target:"download"},r.a.createElement("i",{className:"fa fa-download"}))))))),this.initJQ())}}]),a}(n.Component),De=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"kpis",className:"kpiSection container"},r.a.createElement("h2",{className:"section-header__title",id:"macro"},"Inmobiliarios y Habitacionales"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"El mercado inmobiliario es el conjunto de las acciones de oferta y demanda de bienes inmuebles. La naturaleza de estos bienes puede ser muy distinta, diferenci\xe1ndose entre bienes de naturaleza residencial, comercial, industrial, urbano, etc. Todas las operaciones que se produzcan relacionadas con la compra y venta de este tipo de inmuebles forman el sector inmobiliario, esencial para el desarrollo de una econom\xeda sostenible del pa\xeds."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_Inmobiliarios_31_05_2019.pdf",target:"pdf"},r.a.createElement("i",{className:"fa fa-file-pdf pr-2"}),"Descarga m\xe1s informaci\xf3n aqu\xed "),r.a.createElement(ne,{shareUrl:"indicadores/Inmobiliarios"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Permisos_de_Edificacion"}),r.a.createElement(P,{kpi_name:"Vivienda_cantidad_y_m2_acumulados"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Ventas_de_viviendas"}),r.a.createElement(P,{kpi_name:"Ventas_Santiago"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(P,{kpi_name:"Indice_Real_Precios_Vivienda_Santiago"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(Ie,{kpi_name:"Habitacionales_CASEN_Hacinamiento"}),r.a.createElement(Ie,{kpi_name:"Habitacionales_CASEN_Materialidad"}),r.a.createElement(Ie,{kpi_name:"Habitacionales_CASEN_Conservacion"})))))}}]),a}(n.Component),Re=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(De,null),r.a.createElement(v,null))}}]),a}(n.Component),Pe=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"treemap",className:"kpiSection container treemap-space"},r.a.createElement("h2",{className:"section-header__title",id:"macro"}," Seguridad"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"La Seguridad Laboral se entiende como el conjunto de t\xe9cnicas y procedimientos que tienen por objeto evitar y, en su caso, eliminar o minimizar los riesgos que pueden conducir a la materializaci\xf3n de accidentes con ocasi\xf3n del trabajo, es decir, evitar lesiones y los efectos agudos producidos por agentes o productos peligrosos."),r.a.createElement("a",{className:"download_info_section",role:"button",href:"https://smartdata-demo.sfo2.digitaloceanspaces.com/data/glosarios/Glosario_Seguridad_Laboral_29_05_2019.pdf",target:"pdf"}," ",r.a.createElement("i",{className:"fa fa-file-pdf pr-2"})," Descarga m\xe1s informaci\xf3n aqu\xed  "),r.a.createElement(ne,{shareUrl:"indicadores/Seguridad"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"Num_Empr_adherentes_Seguro_Ley_Actividad_Economica"}),r.a.createElement(P,{kpi_name:"Trabajadores_protegidos_Seguro_Ley_Actividad_Econ\xf3mica"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(z,{kpi_name:"Trabajadores_protegidos_sector_construcci\xf3n_regi\xf3n"}),r.a.createElement(P,{kpi_name:"Accidentes_Tasa_acc"})))))}}]),a}(n.Component),Fe=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(Pe,null),r.a.createElement(v,null))}}]),a}(n.Component),Te=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"kpis",className:"kpiSection container"},r.a.createElement("h2",{className:"section-header__title",id:"dest"},"Destacados"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("p",{className:"section_description"},"Los indicadores Destacados de SmartData Construcci\xf3n, hacen referencia a informaci\xf3n relevante del sector que permite tener una visualizaci\xf3n r\xe1pida y macro del estado de la industria en materias econ\xf3micas, sustentabilidad, laborales, etc. Los indicadores Destacados a disponer en la plataforma, depender\xe1n tambi\xe9n de la contingencia actual y el inter\xe9s de la industria de la construcci\xf3n."),r.a.createElement(ne,{shareUrl:"indicadores"})),r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"PIB_Construccion_MM"}),r.a.createElement(F,{kpi_name:"PIB_Construccion_PER"})),r.a.createElement("div",{className:"card-deck mb-3"},r.a.createElement(F,{kpi_name:"Edificaciones_Certificacion_Sustentable"}),r.a.createElement(F,{kpi_name:"Participacion_Empleo_Sectorial_Total_Nacional_PER"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"IMACON_Variacion_Mensual"})),r.a.createElement("div",{className:"card-deck mb-2"},r.a.createElement(P,{kpi_name:"Permisos_Edificacion_Acumulados_m2"})))))}}]),a}(n.Component),Ue=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(N,null),r.a.createElement(Te,null),r.a.createElement(v,null))}}]),a}(n.Component),Be=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header-about"},r.a.createElement("div",{className:"container text-right"},r.a.createElement("h1",null,"Qui\xe9nes Somos")))}}]),a}(n.Component),Me=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(Be,null),r.a.createElement("section",{className:"container quienes"},r.a.createElement("div",{className:"section-header d-flex align-items-center"},r.a.createElement("h2",{className:"section-header__title d-inline-block"},"Qu\xe9 es SmartData Construcci\xf3n "),r.a.createElement("img",{src:"".concat(window.PUBLIC_URL,"/assets/img/logo_smartdata_construccion_colores.png"),className:"section-header__img ml-auto d-inline-block",alt:"SmartData"})),r.a.createElement("p",null,"El ",r.a.createElement("a",{className:"about-link",href:"https://ctecinnovacion.cl"},"Centro Tecnol\xf3gico para la Innovaci\xf3n en la Construcci\xf3n"),", CTeC, pretende promover el cambio cultural que implica la Construcci\xf3n 4.0 en Chile, consistente en aprovechar las capacidades de las nuevas tecnolog\xedas habilitadoras para digitalizar procesos, integrarlos y conectarlos de modo que permitan una toma de decisiones de inversi\xf3n m\xe1s ajustadas y pertinentes, basadas en datos fidedignos."),r.a.createElement("p",null,"Con este prop\xf3sito, CTeC ha desarrollado la plataforma tecnol\xf3gica SmartData Construcci\xf3n, conformada partir de diferentes alianzas con instituciones p\xfablico-privadas. Esta plataforma busca consolidar datos p\xfablicos del sector, actualizados, levantados y procesados desde m\xfaltiples fuentes, que permita generar indicadores relevantes de sustentabilidad y productividad de la industria de la construcci\xf3n en Chile, facilit\xe1ndole y respaldando la toma de decisiones, permitiendo la resoluci\xf3n de problemas y visualizando nuevas oportunidades."),r.a.createElement("p",{className:"textPage"},"SmartData Construcci\xf3n espera ir escalando a medida que se incorpore m\xe1s informaci\xf3n y generando indicadores de confianza que vayan dando respuesta a las necesidades sectoriales.")),r.a.createElement(v,null))}}]),a}(n.Component),Ve=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header-fuentes"},r.a.createElement("div",{className:"container text-right"},r.a.createElement("h1",null,"Fuentes de Datos")))}}]),a}(n.Component),ze=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(Ve,null),r.a.createElement("section",{className:"container fuentes"},r.a.createElement("p",null,"La informaci\xf3n incorporada en SmartData Construcci\xf3n ha sido recolectada, consolidada y procesada desde diferentes organismos colaboradores, tanto p\xfablicos como privados, qui\xe9nes generan datos v\xe1lidos y utilizados para estad\xedsticas nacionales e internacionales."),r.a.createElement("p",null,"Agradecemos a los diferentes organismos que facilitan datos para SmartData Construcci\xf3n, en especial a aquellos con los que formalizamos acuerdos de trabajo colaborativo en torno a datos. Esperamos ir consolidando relaciones con cada uno de estos actores, agregar otros participantes y cooperar en la formaci\xf3n de un ecosistema de informaci\xf3n fidedigna, clara y de utilidad."),r.a.createElement("div",{className:"row fuentes justify-content-around"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/cchc.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.cchc.cl"},"C\xe1mara Chilena de la Construcci\xf3n, CChC. Gerencia de Estudios")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n referente a datos macroecon\xf3micos, mercado inmobiliario, permisos de edificaci\xf3n, \xedndices de precios.")),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/Logo-IC.jpg"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.iconstruccion.cl/"}," Instituto de la Construcci\xf3n, IC.")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n sobre la Certificaci\xf3n de Edificio Sustentable (CES).")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/minvu.svg"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.minvu.cl/"},"Ministerio de Vivienda y Urbanismo, MINVU")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n relativa a la Calificaci\xf3n Energ\xe9tica de Vivienda (CEV)."),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n asociada al Observatorio Urbano.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/gbc.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.worldgbc.org"},"Green Building Council y Chile GBC")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n relativa a la Certificaci\xf3n Sustentable LEED.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/planbim.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://planbim.cl"},"Plan BIM")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n relacionada a la educaci\xf3n y capital humano capacitado en BIM en Chile.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/ine.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.ine.cl"},"Instituto Nacional de Estad\xedsticas, INE")),r.a.createElement("p",{className:"fuentes__text"},"Datos relacionados a empresas, trabajadores y edificaci\xf3n.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/sii.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"http://homer.sii.cl"},"Servicio de Impuestos Internos, SII")),r.a.createElement("p",{className:"fuentes__text"},"Datos de empresas, trabajadores y ventas.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/minsocial.jpg"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"http://www.ministeriodesarrollosocial.gob.cl"},"Ministerio de Desarrollo Social")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n sobre la Certificaci\xf3n de Edificio Sustentable (CES).")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",src:"".concat(window.PUBLIC_URL,"/assets/logos/clapes.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.clapesuc.cl"},"Clapes UC y Universidad Cat\xf3lica de Chile")),r.a.createElement("p",{className:"fuentes__text"},"Indicadores de Productividad Total de Factores y Productividad Media Laboral.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("img",{className:"fuentes__item",id:"uchile",src:"".concat(window.PUBLIC_URL,"/assets/logos/uchile.png"),target:"_blank",rel:"noopener noreferrer",alt:"cchc"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.uchile.cl/"},"Universidad de Chile")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n sobre Encuesta de Ocupaci\xf3n y Desocupaci\xf3n.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"}),r.a.createElement("div",{className:"col-sm-6 col-md-4"}),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("figure",{className:"fuentes__item"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.suseso.cl"},"Superintendencia de Seguridad Social, SUSESO")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n sobre accidentabilidad, empresas y personas asociadas a organismos de seguridad.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("figure",{className:"fuentes__item"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.bcentral.cl"},"Banco Central")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n referida a datos macroecon\xf3micos y productividad.")),r.a.createElement("div",{className:"col-sm-6 col-md-4"},r.a.createElement("figure",{className:"fuentes__item"}),r.a.createElement("h3",{className:"fuentes__title"},r.a.createElement("a",{href:"https://www.economia.gob.cl"},"Subsecretar\xeda de Econom\xeda")),r.a.createElement("p",{className:"fuentes__text"},"Informaci\xf3n de la Encuesta de Innovaci\xf3n.")))))}}]),a}(n.Component),Ye=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer font-small pt-4"},r.a.createElement("div",{className:"container text-center text-md-left"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"footer-about col-md-3 mt-md-0 mt-3 pr-4"},r.a.createElement("h5",{className:"footer__title"}," M\xe1s sobre nosotros"),r.a.createElement("img",{src:"".concat(window.PUBLIC_URL,"/assets/img/ctec_logo_small.png"),id:"ctec_logo_small",alt:""}),r.a.createElement("p",{className:"pt-2"}," Somos el Centro Tecnol\xf3gico para la Innovaci\xf3n en la Construcci\xf3n, y nuestro objetivo es contribuir al proceso de transformaci\xf3n de la industria de la construcci\xf3n nacional.")),r.a.createElement("hr",{className:"clearfix w-100 d-md-none pb-3"}),r.a.createElement("div",{className:"col-md-3 mb-md-0 mb-3"},r.a.createElement("h5",{className:"footer__title"}," Nuestras Redes Sociales "),r.a.createElement("ul",{className:"footer-rrss"},r.a.createElement("li",null," ",r.a.createElement("a",{href:"https://www.facebook.com/CTeCInnovacion/"}," ",r.a.createElement("img",{className:"footer-rrss__item",src:"".concat(window.PUBLIC_URL,"/assets/img/facebook.png"),alt:""})," ")),r.a.createElement("li",null," ",r.a.createElement("a",{href:"https://twitter.com/CTecInnovacion"}," ",r.a.createElement("img",{className:"footer-rrss__item",src:"".concat(window.PUBLIC_URL,"/assets/img/twitter.png"),alt:""})," ")),r.a.createElement("li",null," ",r.a.createElement("a",{href:"https://www.linkedin.com/company/ctecnologico/"}," ",r.a.createElement("img",{className:"footer-rrss__item",src:"".concat(window.PUBLIC_URL,"/assets/img/linkedin.png"),alt:""})," ")),r.a.createElement("li",null," ",r.a.createElement("a",{href:"https://www.youtube.com/channel/UCpaoF-wHcaCkNlSyIxoLaIw"}," ",r.a.createElement("img",{className:"footer-rrss__item",src:"".concat(window.PUBLIC_URL,"/assets/img/youtube.png"),alt:""})," ")))),r.a.createElement("div",{className:"footer-contacto col-md-3 mb-md-0 mb-3"},r.a.createElement("h5",{className:"footer__title"}," Informaci\xf3n de Contacto "),r.a.createElement("ul",null,r.a.createElement("li",null," ",r.a.createElement("a",{id:"correo",className:"footer-contacto__email",href:"mailto:contacto@ctecinnovacion.cl"}," ",r.a.createElement("i",{className:"far fa-envelope"}," ")," contacto@ctecinnovacion.cl")),r.a.createElement("li",null," ",r.a.createElement("p",{id:"telefono"}," ",r.a.createElement("i",{className:"fas fa-phone"}," ")," +56 2 2978 0749")))))),r.a.createElement("div",{className:"footer-cr"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-end"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("p",null," \xa9 2019 ",r.a.createElement("a",{id:"ctecLinkFooter",href:"https://ctecinnovacion.cl"}," CTeC"),". Todos los Derechos Reservados")),r.a.createElement("div",{className:"col-md-6 text-center text-sm-right"},r.a.createElement("ul",{className:"footer-cr__logos",id:"ltoR"}," ",r.a.createElement("li",null," ",r.a.createElement("a",{href:"http://construye2025.cl"},r.a.createElement("img",{src:"".concat(window.PUBLIC_URL,"/assets/img/construye.png"),className:"footer-cr__logos-item",id:"a",alt:""})," ")),r.a.createElement("li",null," ",r.a.createElement("a",{href:"https://www.corfo.cl/sites/cpp/home"}," ",r.a.createElement("img",{src:"".concat(window.PUBLIC_URL,"/assets/img/corfo.png"),className:"footer-cr__logos-item",id:"b",alt:""})," "))))))),r.a.createElement("a",{href:"link",className:"btn-backTop"},r.a.createElement("i",{className:"fas fa-chevron-up"})))}}]),a}(n.Component),qe=t(44),Ge=t(106),Qe=new Ge.a,Ke=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={username:"",password:"",logedin:!1,login_attempt:!1,login_fail:!1,login_checking:!0},t.onSubmit=t.onSubmit.bind(Object(u.a)(Object(u.a)(t))),t.onLogout=t.onLogout.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onSubmit",value:function(e){var a=this;e.preventDefault(),this.setState({logedin:!0,login_fail:!1,login_attempt:!0}),console.log("ruta: ","".concat("/api/v1","/auth/admin")),Object(qe.a)("".concat("/api/v1","/auth/admin"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then(function(e){return e.json()}).then(function(e){e.error_code?a.setState({login_fail:!0,login_attempt:!0}):(Qe.set("smartdata_access",e),a.setState({logedin:!0,login_fail:!1,login_attempt:!0}))}).catch(function(e){console.log("Login Error",e),a.setState({login_fail:!0})})}},{key:"onLogout",value:function(e){var a=this;e.preventDefault(),this.setState({logout_fail:!1,logout_attempt:!0}),Object(qe.a)("".concat("/api/v1","/auth/admin"),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.error_code?a.setState({logout_fail:!0,logout_attempt:!0}):(Qe.remove("smartdata_access"),window.location.href="/")}).catch(function(e){console.log("Login Error",e),a.setState({login_fail:!0})})}},{key:"componentDidMount",value:function(){var e=Qe.get("smartdata_access");e&&!e.error_code&&this.setState({logedin:!0,login_fail:!1,login_attempt:!0}),this.setState({login_checking:!1})}},{key:"render",value:function(){var e=this;return this.state.login_checking?r.a.createElement("div",{className:"login-dark"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h2",{className:"sr-only"},"Login Form"),r.a.createElement("div",{className:"illustration"},r.a.createElement("i",{className:"icon ion-ios-locked-outline"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-success"},"Cargando acceso...")))):r.a.createElement("div",{className:"login-clean"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h2",{className:"sr-only"},"Login Form"),r.a.createElement("div",{className:"illustration"},r.a.createElement("i",{className:"icon ion-ios-locked-outline"})),!this.state.logedin&&r.a.createElement(r.a.Fragment,null,this.state.login_fail&&this.state.login_attempt&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-danger"},"Error de usuario o contrase\xf1a.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",placeholder:"Email",value:this.state.username,onChange:function(a){e.setState({username:a.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:function(a){e.setState({password:a.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"Entrar"))),this.state.logedin&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-success"},"Has ingresado correctamente.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:function(){window.location.href="admin-panel"}},"Continuar")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-warning btn-block",type:"button",onClick:this.onLogout},"Salir")))))}}]),a}(n.Component),Xe=new Ge.a,Je=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={kpi_name:"",kpi_files:"",logedin:!1,login_attempt:!1,login_fail:!1,login_checking:!0,uploaded:!1,upload_attempt:!1,upload_fail:!1,upload_checking:!0,data_files:null,data_sel:null},t.onSubmit=t.onSubmit.bind(Object(u.a)(Object(u.a)(t))),t.onLogout=t.onLogout.bind(Object(u.a)(Object(u.a)(t))),t.onValidSession=t.onValidSession.bind(Object(u.a)(Object(u.a)(t))),t.getFilesStructures=t.getFilesStructures.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onSubmit",value:function(e){var a=this;e.preventDefault(),this.setState({upload_fail:!1,uploaded:!1,upload_attempt:!0});var t=Xe.get("smartdata_access");t||this.onLogout();var n=document.querySelectorAll("input[type=file]"),r=new FormData;r.append("kpi_name",this.state.data_sel),w.a.each(n,function(e){var a=e.name;(e=e.files[0])&&r.append("kpi_field",a),e&&r.append("kpi_file",e,e.file_name)}),Object(qe.a)("".concat("/api/v1","/admin/files"),{method:"POST",mode:"cors",headers:{Authorization:"Bearer ".concat(t.access_token)},body:r}).then(function(e){if(401!==e.status){if(200!==e.status)throw new Error("No es posible subir el archivo");return e.json()}a.onLogout()}).then(function(e){e.error_code?a.setState({upload_fail:!0,upload_attempt:!0}):a.setState({uploaded:!0,upload_fail:!1,upload_attempt:!0})}).catch(function(e){console.log("Upload Error",e),a.setState({upload_fail:!0,upload_attempt:!0})})}},{key:"onValidSession",value:function(){var e=this,a=Xe.get("smartdata_access");a||this.onLogout(),Object(qe.a)("".concat("/api/v1","/auth/admin"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.refresh_token)}}).then(function(e){return e.json()}).then(function(t){if(t.error_code)throw new Error("No tienes autorizaci\xf3n");a.access_token=t.access_token,Xe.set("smartdata_access",a),e.setState({logedin:!0,login_fail:!1,login_checking:!1,login_attempt:!0}),e.getFilesStructures()}).catch(function(a){e.onLogout()})}},{key:"getFilesStructures",value:function(){var e=this,a=Xe.get("smartdata_access");Object(qe.a)("".concat("/api/v1","/admin/files"),{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.access_token)}}).then(function(e){return e.json()}).then(function(a){if(a.error_code)throw new Error("No tienes autorizaci\xf3n");var t=0;a.data_files.length&&(t=a.data_files[0].name),e.setState({data_files:a.data_files,data_sel:t})}).catch(function(a){e.onLogout()})}},{key:"onLogout",value:function(){var e=this;this.setState({logout_fail:!1,logout_attempt:!0}),Object(qe.a)("".concat("/api/v1","/auth/admin"),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){a.error_code?e.setState({logout_fail:!0,logout_attempt:!0}):(Xe.remove("smartdata_access"),window.location.href="/")}).catch(function(a){console.log("Login Error",a),e.setState({login_fail:!0})})}},{key:"componentDidMount",value:function(){this.onValidSession()}},{key:"render",value:function(){var e=this,a=this.state,t=a.login_checking,n=a.data_files,c=a.data_sel;return t||!n?r.a.createElement("div",{className:"container-fluid login-clean admin-panel"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h2",{className:"sr-only"},"Login Form"),r.a.createElement("div",{className:"illustration"},r.a.createElement("i",{className:"icon ion-ios-locked-outline"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-success"},"Cargando informaci\xf3n...")))):n&&n.length?r.a.createElement("div",{className:"container-fluid login-clean admin-panel"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("h2",{className:"sr-only"},"Login Form"),r.a.createElement("div",{className:"illustration"},r.a.createElement("i",{className:"icon ion-ios-navigate"})),r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Administrador de Archivos de Datos"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-primary"},"Selecciona el Indicador para subir archivo(s)"),r.a.createElement("select",{className:"form-control",defaultValue:c,onChange:function(a){e.setState({data_sel:a.target.value})}},n.map(function(e,a){return r.a.createElement("option",{key:a,value:e.name},e.name)}))),n&&c&&function(e,a){var t=[];return e&&w.a.each(e,function(e){e.name===a&&(t=e.files)}),t.map(function(e,a){return r.a.createElement("div",{className:"form-group",key:"".concat(a)},r.a.createElement("label",{className:"text-center text-primary"},r.a.createElement("b",null,e.name)),r.a.createElement("input",{type:"file",accept:"*.csv, *.json",name:e.name,className:"form-control"}))})}(n,c)),this.state.uploaded&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-success"},"El archivo se ha cargado correctamente.")),!this.state.uploaded&&this.state.upload_attempt&&this.state.upload_fail&&r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-center text-danger"},"No es posible subir el archivo, intenta nuevamente.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},"subir archivo")))):null}}]),a}(n.Component),We=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={user:null,admin:null},t.onAdminLogin=t.onAdminLogin.bind(Object(u.a)(Object(u.a)(t))),t.onAdminLogout=t.onAdminLogout.bind(Object(u.a)(Object(u.a)(t))),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"onAdminLogin",value:function(e){this.setState({admin:e})}},{key:"onAdminLogout",value:function(){this.setState({admin:null})}},{key:"render",value:function(){var e=this;return r.a.createElement(p.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(_.a,{path:"/",exact:!0,component:k}),r.a.createElement(_.a,{path:"/indicadores/macroeconomia",exact:!0,component:ce}),r.a.createElement(_.a,{path:"/indicadores/Cchc",exact:!0,component:pe}),r.a.createElement(_.a,{path:"/indicadores/Sustentabilidad",exact:!0,component:Oe}),r.a.createElement(_.a,{path:"/indicadores/Innovacion",exact:!0,component:we}),r.a.createElement(_.a,{path:"/indicadores/Inmobiliarios",exact:!0,component:Re}),r.a.createElement(_.a,{path:"/indicadores/Seguridad",exact:!0,component:Fe}),r.a.createElement(_.a,{path:"/quienes",exact:!0,component:Me}),r.a.createElement(_.a,{path:"/fuentes",exact:!0,component:ze}),r.a.createElement(_.a,{path:"/huincha",exact:!0,component:v}),r.a.createElement(_.a,{path:"/Sharing",exact:!0,component:ne}),r.a.createElement(_.a,{path:"/indicadores",exact:!0,component:Ue}),r.a.createElement(_.a,{path:"/admin",render:function(a){var t=a.location;a.match;return r.a.createElement(Ke,{location:t,onAdminLogin:e.onAdminLogin,onAdminLogout:e.onAdminLogout,adminuser:e.state.adminuser})}}),r.a.createElement(_.a,{path:"/admin-panel",render:function(a){var t=a.location;a.match;return r.a.createElement(Je,{location:t,onAdminLogin:e.onAdminLogin,onAdminLogout:e.onAdminLogout,adminuser:e.state.adminuser})}}),r.a.createElement(Ye,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(We,null),document.getElementById("appRoot")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[281,1,2]]]);
//# sourceMappingURL=main.11c2218a.chunk.js.map